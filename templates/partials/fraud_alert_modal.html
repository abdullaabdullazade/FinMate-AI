<!-- AI Fraud Guard Modal -->
<div id="fraud-alert-modal"
    class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/90 backdrop-blur-md opacity-0 transition-all duration-300">
    <div class="relative w-full max-w-md mx-4 transform scale-90 transition-transform duration-300"
        id="fraud-alert-content">
        <!-- Pulsing Red Background -->
        <div class="absolute inset-0 bg-red-500/20 rounded-3xl blur-3xl animate-pulse"></div>

        <!-- Main Alert Card -->
        <div class="relative glass-card border-2 border-red-500 p-8 rounded-3xl shadow-2xl shadow-red-500/50">
            <!-- Alert Icon -->
            <div class="flex justify-center mb-6">
                <div
                    class="w-24 h-24 rounded-full bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center text-6xl animate-bounce shadow-lg shadow-red-500/50">
                    üö®
                </div>
            </div>

            <!-- Alert Title -->
            <h2 class="text-3xl font-black text-center text-red-400 mb-4 animate-pulse">
                ≈û√úBH∆èLI ∆èM∆èLIYYAT!
            </h2>

            <!-- Alert Message -->
            <div class="bg-red-500/20 border border-red-500/50 rounded-xl p-6 mb-6">
                <p class="text-white text-center text-lg font-bold mb-2">
                    üåç Dubay, B∆è∆è
                </p>
                <p class="text-red-200 text-center text-2xl font-black mb-3">
                    500.00 USD
                </p>
                <p class="text-white/80 text-center text-sm">
                    ƒ∞ndi c…ômi 2 d…ôqiq…ô …ôvv…ôl
                </p>
            </div>

            <!-- Question -->
            <p class="text-white text-center text-xl font-bold mb-8">
                Bu ∆èM∆èLƒ∞YYATI Sƒ∞Z EDƒ∞RSƒ∞Nƒ∞Z?
            </p>

            <!-- Action Buttons -->
            <div class="grid grid-cols-2 gap-4">
                <!-- Yes Button -->
                <button onclick="confirmFraudTransaction(true)"
                    class="group relative overflow-hidden px-6 py-4 rounded-xl font-bold text-lg transition-all hover:scale-105 bg-white/10 hover:bg-white/20 text-white border-2 border-white/30 hover:border-white/50">
                    <span class="relative z-10">‚úì B…ôli, M…ôn…ôm</span>
                </button>

                <!-- No Button (Primary) -->
                <button onclick="confirmFraudTransaction(false)"
                    class="group relative overflow-hidden px-6 py-4 rounded-xl font-bold text-lg transition-all hover:scale-110 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white shadow-xl shadow-red-500/50 border-2 border-red-400">
                    <span class="relative z-10 animate-pulse">‚úó XEYR!</span>
                </button>
            </div>

            <!-- Footer Warning -->
            <div class="mt-6 pt-6 border-t border-white/10">
                <p class="text-white/50 text-center text-xs flex items-center justify-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                        </path>
                    </svg>
                    FinMate AI Fraud Detection System
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Success Confirmation Modal -->
<div id="fraud-blocked-modal"
    class="fixed inset-0 z-[101] hidden items-center justify-center bg-black/90 backdrop-blur-md opacity-0 transition-all duration-300">
    <div class="relative w-full max-w-md mx-4 transform scale-90 transition-transform duration-300"
        id="fraud-blocked-content">
        <!-- Success Glow -->
        <div class="absolute inset-0 bg-green-500/20 rounded-3xl blur-3xl animate-pulse"></div>

        <!-- Success Card -->
        <div class="relative glass-card border-2 border-green-500 p-8 rounded-3xl shadow-2xl shadow-green-500/50">
            <!-- Success Icon -->
            <div class="flex justify-center mb-6">
                <div
                    class="w-24 h-24 rounded-full bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center text-6xl shadow-lg shadow-green-500/50 animate-bounce">
                    üõ°Ô∏è
                </div>
            </div>

            <!-- Success Title -->
            <h2 class="text-3xl font-black text-center text-green-400 mb-4">
                PULUNUZ QORUNDU!
            </h2>

            <!-- Success Message -->
            <div class="bg-green-500/20 border border-green-500/50 rounded-xl p-6 mb-6">
                <p class="text-white text-center text-lg font-bold mb-4">
                    ‚úÖ Kartƒ±nƒ±z d…ôrhal bloklandƒ±
                </p>
                <p class="text-white/80 text-center text-sm mb-2">
                    D…ôl…ôduz …ôm…ôliyyat dayandƒ±rƒ±ldƒ±
                </p>
                <p class="text-green-200 text-center text-2xl font-black">
                    500.00 USD qorundu
                </p>
            </div>

            <!-- Info Message -->
            <div class="bg-white/5 rounded-xl p-4 mb-6">
                <p class="text-white/70 text-center text-sm">
                    üí≥ Yeni kart 24 saat …ôrzind…ô g√∂nd…ôril…ôc…ôk<br>
                    üìû Sizinl…ô …ôlaq…ô saxlanƒ±lacaq
                </p>
            </div>

            <!-- Close Button -->
            <button onclick="closeFraudModals()"
                class="w-full px-6 py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white shadow-xl shadow-green-500/50 transition-all hover:scale-105">
                Baƒüla
            </button>

            <!-- Footer -->
            <div class="mt-6 pt-6 border-t border-white/10">
                <p class="text-white/50 text-center text-xs">
                    ü§ñ FinMate AI il…ô t…ôhl√ºk…ôsiz olun
                </p>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes alert-pulse {

        0%,
        100% {
            border-color: rgba(239, 68, 68, 0.5);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
        }

        50% {
            border-color: rgba(239, 68, 68, 1);
            box-shadow: 0 0 40px rgba(239, 68, 68, 0.6);
        }
    }

    #fraud-alert-modal.show,
    #fraud-blocked-modal.show {
        display: flex !important;
        opacity: 1;
    }

    #fraud-alert-modal.show #fraud-alert-content,
    #fraud-blocked-modal.show #fraud-blocked-content {
        transform: scale(1);
    }
</style>

<script>
    // Open fraud alert (for demo trigger)
    function openFraudAlert() {
        const modal = document.getElementById('fraud-alert-modal');
        modal.classList.remove('hidden');
        modal.classList.add('show');

        // Play alert sound (optional)
        playAlertSound();
    }

    // Handle user confirmation
    function confirmFraudTransaction(isLegit) {
        const alertModal = document.getElementById('fraud-alert-modal');

        if (isLegit) {
            // User confirmed it was them
            alertModal.classList.remove('show');
            setTimeout(() => {
                alertModal.classList.add('hidden');
            }, 300);

            // Show success message
            showToast('‚úÖ T…ô≈ü…ôkk√ºrl…ôr! ∆èm…ôliyyat t…ôsdiql…ôndi.', 'success');
        } else {
            // Fraud detected - block card
            alertModal.classList.remove('show');
            setTimeout(() => {
                alertModal.classList.add('hidden');
                // Show blocked confirmation
                showFraudBlocked();
            }, 300);
        }
    }

    // Show fraud blocked confirmation
    function showFraudBlocked() {
        const modal = document.getElementById('fraud-blocked-modal');
        modal.classList.remove('hidden');
        setTimeout(() => {
            modal.classList.add('show');
        }, 100);

        // Play success sound
        playSuccessSound();

        // Trigger confetti
        if (typeof confetti !== 'undefined') {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#10b981', '#34d399', '#6ee7b7']
            });
        }
    }

    // Close all fraud modals
    function closeFraudModals() {
        const alertModal = document.getElementById('fraud-alert-modal');
        const blockedModal = document.getElementById('fraud-blocked-modal');

        alertModal.classList.remove('show');
        blockedModal.classList.remove('show');

        setTimeout(() => {
            alertModal.classList.add('hidden');
            blockedModal.classList.add('hidden');
        }, 300);
    }

    // Play alert sound (simple beep)
    function playAlertSound() {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.value = 800;
        oscillator.type = 'sine';

        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.5);
    }

    // Play success sound
    function playSuccessSound() {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.value = 523.25; // C note
        oscillator.type = 'sine';

        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.3);
    }

    // Toast notification helper
    function showToast(message, type = 'info') {
        const container = document.getElementById('toast-container') || createToastContainer();
        const toast = document.createElement('div');

        const styles = type === 'success'
            ? 'bg-green-500/90 border-green-400/50'
            : type === 'error'
                ? 'bg-red-500/90 border-red-400/50'
                : 'bg-blue-500/90 border-blue-400/50';

        toast.className = `pointer-events-auto backdrop-blur-md text-white px-6 py-4 rounded-xl shadow-lg border flex items-center gap-3 transform transition-all duration-500 translate-x-full ${styles}`;
        toast.innerHTML = `<span class="font-medium">${message}</span>`;

        container.appendChild(toast);

        requestAnimationFrame(() => {
            toast.classList.remove('translate-x-full');
        });

        setTimeout(() => {
            toast.classList.add('translate-x-full', 'opacity-0');
            setTimeout(() => toast.remove(), 500);
        }, 3000);
    }

    function createToastContainer() {
        const container = document.createElement('div');
        container.id = 'toast-container';
        container.className = 'fixed top-24 right-6 z-50 flex flex-col gap-2 pointer-events-none';
        document.body.appendChild(container);
        return container;
    }
</script>