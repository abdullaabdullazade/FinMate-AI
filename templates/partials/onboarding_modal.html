<div id="onboarding-modal"
    class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm hidden">
    <div class="glass-card p-8 max-w-md w-full mx-4 relative overflow-hidden">
        <!-- Decorative Background -->
        <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none">
            <div class="absolute top-10 left-10 w-32 h-32 bg-purple-500 rounded-full blur-3xl"></div>
            <div class="absolute bottom-10 right-10 w-40 h-40 bg-pink-500 rounded-full blur-3xl"></div>
        </div>
        <div id="onboarding-step-3" class="onboarding-step hidden relative z-10">
            <div class="text-center mb-6">
                <div class="text-6xl mb-4" id="goal-emoji">üéØ</div>
                <h2 class="text-2xl font-bold text-white mb-2">∆èla se√ßim!</h2>
                <p class="text-white/70 text-sm">AI-ni s…ônin √º√ß√ºn sazladƒ±q</p>
            </div>
            <div class="bg-white/10 rounded-lg p-6 mb-6 text-center">
                <p class="text-white/80 mb-2">M…ôqs…ôdin:</p>
                <p class="text-2xl font-bold text-white" id="goal-text">Q…ôna…ôt etm…ôk</p>
            </div>
            <button onclick="completeOnboarding()"
                class="w-full px-6 py-3 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold hover:scale-105 transition-transform">
                Ba≈ülayaq! üéâ
            </button>
        </div>
    </div>
</div>

<script>
    let selectedGoal = 'save';

    function nextOnboardingStep(step) {
        document.querySelectorAll('.onboarding-step').forEach(el => el.classList.add('hidden'));
        document.getElementById(`onboarding-step-${step}`).classList.remove('hidden');
    }

    function selectGoal(goal) {
        selectedGoal = goal;
        const goals = {
            'save': { emoji: 'üí∞', text: 'Q…ôna…ôt etm…ôk' },
            'ps5': { emoji: 'üéÆ', text: 'PS5 almaq' },
            'travel': { emoji: '‚úàÔ∏è', text: 'S…ôyah…ôt etm…ôk' }
        };

        document.getElementById('goal-emoji').textContent = goals[goal].emoji;
        document.getElementById('goal-text').textContent = goals[goal].text;
        nextOnboardingStep(3);
    }

    function completeOnboarding() {
        // Save to localStorage
        localStorage.setItem('onboarding_completed', 'true');
        localStorage.setItem('user_goal', selectedGoal);

        // Hide modal with animation
        const modal = document.getElementById('onboarding-modal');
        modal.style.opacity = '0';
        setTimeout(() => {
            modal.classList.add('hidden');
            modal.style.opacity = '1';
        }, 300);

        // Show confetti
        if (typeof confetti !== 'undefined') {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
            });
        }
    }

    // Show onboarding on first visit
    document.addEventListener('DOMContentLoaded', () => {
        const hasCompletedOnboarding = localStorage.getItem('onboarding_completed');
        if (!hasCompletedOnboarding) {
            setTimeout(() => {
                document.getElementById('onboarding-modal').classList.remove('hidden');
            }, 500);
        }
    });
</script>